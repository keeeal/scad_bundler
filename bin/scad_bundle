#!/usr/bin/env ruby
# frozen_string_literal: true
require 'bundler'
require 'shellwords'

specs = Bundler.load.specs.reject {|s| s.name == "bundler" }.sort_by(&:name)

lib_paths = specs.map { |spec| spec.full_gem_path }
env = {'OPENSCADPATH' => lib_paths.join(':')}
args = ARGV.map { |x| Shellwords.escape(x) }
exec( env, args.join(' ') )
